<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0">

  <link rel="icon" href="img/favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png">

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css?version=1">
  <link rel="stylesheet" href="css/slick.css">
  <link rel="stylesheet" href="css/slick-theme.css">
  <link rel="stylesheet" href="css/flipdown.min.css">
  <title>Настя & Никита | Наша свадьба</title>
</head>
<body>
<section id="main">
  <div class="photo-album">
    <img src="img/love.gif" alt="love" class="love-gif"/>
    <div class="photo-with-text">
      <span>Жених</span>
      <img src="img/nikita.webp" alt="zhenih"/>
    </div>

    <img src="img/love-heart.gif" alt="love" class="love-heart-gif"/>
    <div class="photo-with-text">
      <img src="img/nastya.webp" alt="nevesta"/>
      <span>Невеста</span>
    </div>
  </div>
  <h2><span class="bride">Никита</span><span class="plus">+</span><span class="groom">Настя</span></h2>
  <div class="scroll-down" onclick="scrollToNextSection()">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"/>
    </svg>
  </div>
</section>

<section id="calendar">
  <div class="calendar-header base-text text-center">Как же быстро летит время! <br>
    Мы так счастливы, <br> что нашли друг друга!
  </div>
  <div class="calendar-header base-text text-center">5 июля 2025 года<br> состоится особенное и неповторимое <br>для нас событие - День рождения нашей семьи! <br>
    Для нас большая честь разделить <br>с вами минуты радости этого дня!
  </div>
  <p class="text-center mt-4">Июль 2025 года</p>
  <div class="calendar-container">
    <div class="day-empty"></div>
    <div class="day">1</div>
    <div class="day">2</div>
    <div class="day">3</div>
    <div class="day">4</div>
    <div class="day wedding-day">
      <span>5</span>
      <img src="img/love.gif" class="love-gif" alt="love">
    </div>
    <div class="day">6</div>
    <div class="day">7</div>
    <div class="day">8</div>
    <div class="day">9</div>
    <div class="day">10</div>
    <div class="day">11</div>
    <div class="day">12</div>
    <div class="day">13</div>
    <div class="day">14</div>
    <div class="day">15</div>
    <div class="day">16</div>
    <div class="day">17</div>
    <div class="day">18</div>
    <div class="day">19</div>
    <div class="day">20</div>
    <div class="day">21</div>
    <div class="day">22</div>
    <div class="day">23</div>
    <div class="day">24</div>
    <div class="day">25</div>
    <div class="day">26</div>
    <div class="day">27</div>
    <div class="day">28</div>
    <div class="day">29</div>
    <div class="day">30</div>
    <div class="day">31</div>
  </div>
  <a
    href="https://calendar.google.com/calendar/render?action=TEMPLATE&dates=20250705T150000/20250705T230000&text=Свадьба%20Насти%20и%20Никиты&details=Торжественная%20церемония%20и%20банкет.%20Дресс-код:%20вечерние%20наряды.&location=Оранжевая%20Ферма%20"
    class="base-btn base-text calendar-btn"
    target="_blank"
  >
  Добавить в календарь
  </a>
</section>

<section id="album">
  <div class="album-container">
    <img src="img/together-1.webp" alt="sovmestka1"/>
    <div class="right-part">
      <img src="img/together-2.webp" alt="sovmestka2"/>
      <p class="base-text">В этом мире ты всего <br> лишь человек, но для <br> кого-то ты — весь мир <span
          class="fade-item">|</span>
    </div>
  </div>
</section>

<section id="place">
  <h1 class="section-header">Место <br>проведения</h1>
  <span class="base-text mt-3" style="color: #FF8C00; font-weight: bold; font-size: 1.3em;">Оранжевая ферма</span>
  <div class="rest-card base-text">
    <img src="img/farm.webp" alt="rest"/>
    <a
        href="https://yandex.ru/maps/org/oranzhevaya_ferma/99030501914/?display-text=%D0%BE%D1%80%D0%B0%D0%BD%D0%B6%D0%B5%D0%B2%D0%B0%D1%8F%20%D1%84%D0%B5%D1%80%D0%BC%D0%B0&ll=40.734665%2C55.989835&mode=search&sctx=ZAAAAAgBEAAaKAoSCZ5eKcsQz0JAEdOgaB7A4EtAEhIJ6EoEqn9Q8T8RqG%2BZ02Ux3T8iBgABAgMEBSgKOABA1QFIAWoCcnWdAc3MzD2gAQCoAQC9AX9yxOXCAQaalLb18AKCAh3QvtGA0LDQvdC20LXQstCw0Y8g0YTQtdGA0LzQsIoCAJICAJoCDGRlc2t0b3AtbWFwcw%3D%3D&sll=40.734665%2C55.989835&sspn=2.164307%2C0.906785&text=%D0%BE%D1%80%D0%B0%D0%BD%D0%B6%D0%B5%D0%B2%D0%B0%D1%8F%20%D1%84%D0%B5%D1%80%D0%BC%D0%B0&z=9"
        class="base-btn"
    >
      ПОСМОТРЕТЬ НА КАРТЕ
    </a>
  </div>
</section>

<section id="plan">
  <h1 class="section-header">План дня</h1>
  <div class="plan-container base-text">
    <div class="plan-item">
      <h6>16:30</h6>
      <h6>Сбор гостей</h6>
      <p>Во Владимире - остановка "Золотые ворота"(у Музея хрусталя)</p>
      <p>В Судогде - у автовокзала</p>
    </div>
    <div class="plan-item">
      <h6>17:00</h6>
      <h6>Фуршет</h6>
      <p>Немного вкусностей для начала - настраиваемся на веселую свадьбу.</p>
    </div>
    <div class="plan-item">
      <h6>18:00</h6>
      <h6>Банкет</h6>
      <p>Самое время для вкусной еды, развлечений и поздравлений.</p>
    </div>
    <div class="plan-item">
      <h6>22:00</h6>
      <h6>Завершение вечера</h6>
      <p>Официальная часть заканчивается, но для самых стойких праздник продолжается.</p>
    </div>
    <div class="plan-item">
      <h6>22:30</h6>
      <h6>Трансфер для гостей</h6>
      <p>Мы организуем трансфер от фермы обратно в Судогду и Владимир для всех желающих.</p>
    </div>
    <div class="plan-item"></div> <!--empty-->
  </div>
</section>

<section id="dress">
  <h1 class="section-header">Дресс-код</h1>
  <p class="base-text text-center dress-text"> Мы очень старались сделать <br> праздник красивым и будем <br> рады, если
    в своих нарядах <br> Вы поддержите цветовую гамму нашей свадьбы!</p>
  <div class="dress-container">
    <img src="img/gamma/green1.png" alt="dress1" class="color-blob"/>
    <img src="img/gamma/green2.png" alt="dress2" class="color-blob"/>
    <img src="img/gamma/green3.png" alt="dress3" class="color-blob"/>
    <img src="img/gamma/green4.png" alt="dress4" class="color-blob"/>
  </div>
  <div class="dress-container">
    <img src="img/gamma/brown1.png" alt="dress1" class="color-blob"/>
    <img src="img/gamma/brown2.png" alt="dress2" class="color-blob"/>
    <img src="img/gamma/brown3.png" alt="dress3" class="color-blob"/>
    <img src="img/gamma/brown4.png" alt="dress4" class="color-blob"/>
  </div>
  <p class="base-text text-center dress-text"> Для мужчин будет уместен <br>светлый костюм с рубашкой.</p>
</section>

<section id="detail">
  <h1 class="section-header">Детали</h1>
  <div class="detail-container">
    <p class="base-text detail-text">Свои тёплые слова и пожелания <br> приносите в сердцах, а подарки - в
      конверте.</p>
    <p class="base-text detail-text">Приятным комплиментом для <br> нас будет, если вместо цветов <br> Вы решите
      подарить нам <br> бутылочку хорошего алкоголя <br> для нашей семейной коллекции.</p>
    <p class="base-text detail-text">Хотите сделать незабываемый <br> сюрприз во время торжества? <br> 
      Обращайтесь к нашему ведущему: <br> <a href="tel:+79028881022" class="phone-link"><u>8-902-888-10-22</u></a> Юрий</p>
  </div>
</section>

<section id="application">
  <form id="application-form" class="needs-validation" novalidate="">
    <h1 class="section-header text-nowrap">Анкета гостя</h1>
    <div class="form-container base-text">
      <p class="text-center">Пожалуйста, подтвердите свое присутствие</p>
      <div class="form-field">
        <label for="name">Как вас зовут?</label>
        <input type="text" class="form-control" id="name" placeholder="ФИО" value="" required="">
        <div class="invalid-feedback">
          Это обязательное поле.
        </div>
      </div>

      <div class="form-field">
        <label for="phoneNumber">Введите ваш телефон</label>
        <input type="tel" class="form-control" id="phoneNumber" placeholder="+7 (___) ___-__-__" value="" required="" pattern="^(\+7|8)[\s\-]?\(?\d{3}\)?[\s\-]?\d{3}[\s\-]?\d{2}[\s\-]?\d{2}$">
        <div class="invalid-feedback">
          Пожалуйста, введите корректный номер телефона.
        </div>
      </div>
      
      <div class="form-field">
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="ownCar">
          <label class="form-check-label" for="ownCar">Доберусь на своем автомобиле</label>
        </div>
      </div>

      <div class="form-field">
        <label>Будете ли вы присутствовать на торжестве?</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="attendance" id="attendanceYes" value="yes" required>
          <label class="form-check-label" for="attendanceYes">
            Да, с удовольствием приду
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="attendance" id="attendanceNo" value="no" required>
          <label class="form-check-label" for="attendanceNo">
            К сожалению, не смогу присутствовать
          </label>
        </div>
        <div class="invalid-feedback">
          Пожалуйста, выберите один из вариантов.
        </div>
      </div>

      
      <div class="form-field">
        <label for="question">Остался вопрос?</label>
        <textarea class="form-control" id="question" placeholder="Напишите здесь" rows="2"></textarea>
      </div>

      <button class="base-btn" type="submit">Отправить</button>
    </div>
  </form>
</section>

<section id="chat">
  <h1 class="section-header">Чат <br> для гостей</h1>
  <img src="img/lines.png" alt="lines"/>
  <p class="base-text">Для Вашего удобства мы <br> создали чат в Telegram, куда <br> можно будет добавлять фото <br> и
    видео со свадьбы.</p>
  <p class="base-text">Давайте поделимся друг <br> с другом счастливыми <br> моментами этого важного <br> дня и будем на
    связи!</p>
  <a href="https://t.me/+7f7UyhLfCK8xNWQy" class="base-btn base-text" target="_blank">Вступить в чат</a>
</section>

<section id="timer">
  <img src="img/lovers.png" alt="lovers"/>
  <p class="base-text">до торжества осталось</p>
  <div id="flipdown" class="flipdown"></div>
  <p class="base-text">МЫ ВАС ОЧЕНЬ ЖДЕМ!</p>
</section>

<script src="js/bootstrap.min.js"></script>
<script src="js/jquery-3.6.4.min.js"></script>
<script src="js/slick.min.js"></script>
<script src="js/main.js?version=1"></script>
<script src="js/flipdown.min.js"></script>
<script>
  // UNIX-время цели (в секундах)
  const targetDate = new Date("2025-07-05T12:00:00Z").getTime() / 1000;

  new FlipDown(targetDate, {headings: ["дней", "часов", "минут", "секунд"]})
    .start()
    .ifEnded(() => {
      document.querySelector("h1").innerText = "Событие наступило!";
    });
</script>
<script>
    function scrollToNextSection() {
    const nextSection = document.getElementById('calendar');
    nextSection.scrollIntoView({ behavior: 'smooth' });
  }
  document.getElementById("phoneNumber").addEventListener("input", function(e) {
    let value = e.target.value.replace(/\D/g, "");
    if (value.length > 0) {
      if (value[0] === "8") {
        value = "7" + value.substring(1);
      }
      if (value[0] !== "7") {
        value = "7" + value;
      }
    }
    
    let formattedValue = "";
    if (value.length > 0) {
      formattedValue = "+" + value[0];
    }
    if (value.length > 1) {
      formattedValue += " (" + value.substring(1, 4);
    }
    if (value.length > 4) {
      formattedValue += ") " + value.substring(4, 7);
    }
    if (value.length > 7) {
      formattedValue += "-" + value.substring(7, 9);
    }
    if (value.length > 9) {
      formattedValue += "-" + value.substring(9, 11);
    }
    
    e.target.value = formattedValue;
  });
  
  // !!! Переменные данные о боте и чате будут раскрыты при реверс инженеринге, ДЕМО ВАРИАНТ !!!
  document.getElementById("application-form").addEventListener("submit", function (event) {
  event.preventDefault();
  
  const form = event.target;
  if (!form.checkValidity()) {
    event.stopPropagation();
    form.classList.add('was-validated');
    return;
  }

  // Получаем значение выбранной радиокнопки
  let attendance = document.querySelector('input[name="attendance"]:checked').value;
  let attendanceText = attendance === "yes" ? "Да, буду присутствовать" : "Нет, не смогу присутствовать";
  
  let name = document.getElementById("name").value;
  let phoneNumber = document.getElementById("phoneNumber").value;
  let question = document.getElementById("question").value;
  let ownCar = document.getElementById("ownCar").checked;

  let telegramBotToken = "7244155453:AAEdnet6p9Vc43TZoUEVtLVcMuANQHSmpvw";
  let chatId = "-1002620126145";

  let text = `🔔 Новое подтверждение!\n\n👤 Имя: ${name} \n📞 Телефон: ${phoneNumber}\n✅ Присутствие: ${attendanceText}`;
  
  // Добавляем информацию о транспорте только если гость будет присутствовать
  if (attendance === "yes") {
    text += `\n🚗 Транспорт: ${ownCar ? 'Прибудет на своем автомобиле' : 'Нужен трансфер'}`;
  }
  
  if (question.trim() !== "") {
    text += `\n❓ Коментарий: ${question}`;
  }

  fetch(`https://api.telegram.org/bot${telegramBotToken}/sendMessage`, {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({chat_id: chatId, text: text})
  }).then(response => response.json())
    .then(data => {
      if (data.ok) {
        alert("Заявка отправлена!");
        document.getElementById("application-form").reset();
        form.classList.remove('was-validated');
        if (document.getElementById("applicationModal")) {
          let modal = bootstrap.Modal.getInstance(document.getElementById("applicationModal"));
          if (modal) modal.hide();
        }
      } else {
        alert("Ошибка отправки: " + data.description);
      }
    }).catch(error => alert("Ошибка сети: " + error.message));
});

document.addEventListener('DOMContentLoaded', function() {
    const calendarBtn = document.getElementById('add-to-calendar-btn');
    const eventDetails = {
      title: 'Свадьба Насти и Никиты',
      startDate: '20250705T150000',
      endDate: '20250705T230000',
      location: 'Оранжевая Ферма',
      description: 'Торжественная церемония и банкет. Дресс-код: вечерние наряды.'
    };
    
    // Определяем платформу
    const userAgent = navigator.userAgent || navigator.vendor || window.opera;
    
    if (/android/i.test(userAgent)) {
      // Android - используем intent
      calendarBtn.href = `content://com.android.calendar/events?title=${encodeURIComponent(eventDetails.title)}&description=${encodeURIComponent(eventDetails.description)}&location=${encodeURIComponent(eventDetails.location)}&startTime=${eventDetails.startDate}&endTime=${eventDetails.endDate}`;
    } else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
      // iOS - используем ical формат
      calendarBtn.href = `webcal://p30-calendars.icloud.com/published/2/xxxxxxxxxxx?title=${encodeURIComponent(eventDetails.title)}&dates=${eventDetails.startDate}/${eventDetails.endDate}&location=${encodeURIComponent(eventDetails.location)}&description=${encodeURIComponent(eventDetails.description)}`;
    } else {
      // Десктоп или другие устройства - используем Google Calendar
      calendarBtn.href = `https://calendar.google.com/calendar/render?action=TEMPLATE&dates=${eventDetails.startDate}/${eventDetails.endDate}&text=${encodeURIComponent(eventDetails.title)}&details=${encodeURIComponent(eventDetails.description)}&location=${encodeURIComponent(eventDetails.location)}`;
    }
  });
</script>
</body>
</html>